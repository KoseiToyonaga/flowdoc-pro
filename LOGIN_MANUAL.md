# ログイン機能 - 使用説明書

## 📋 概要

FlowDoc Proにユーザー認証機能が追加されました。この機能により、ユーザーごとに安全にデータを管理できるようになります。

---

## ✨ 実装した機能

### 1. **ログイン画面**
- メールアドレスとパスワードで認証
- エラーメッセージ表示
- デモアカウントの提示
- ローディングアニメーション

### 2. **ユーザー登録画面**
- 新規アカウント作成
- 入力バリデーション（メール形式、パスワード長など）
- メールアドレスの重複チェック
- パスワード確認機能

### 3. **認証コンテキスト（AuthContext）**
- ログイン状態の管理
- ユーザー情報の保存
- ログアウト処理
- ユーザー情報の更新

### 4. **ユーザープロフィール画面**
- プロフィール情報の表示
- プロフィール情報の編集
- ログアウトボタン
- アバター表示

### 5. **デモアカウント**
- 初回起動時に自動作成
- メール: `demo@example.com`
- パスワード: `demo123`

---

## 🚀 セットアップ手順

### 1. ファイルの配置確認

以下のファイルが正しく配置されているか確認してください：

```
src/
├── components/
│   ├── Login.js              # ログイン画面
│   ├── Login.css             # ログイン画面スタイル
│   ├── Register.js           # 登録画面
│   ├── Register.css          # 登録画面スタイル
│   ├── UserProfile.js        # プロフィール画面
│   └── UserProfile.css       # プロフィールスタイル
├── contexts/
│   └── AuthContext.js        # 認証コンテキスト
├── App.js                    # メインアプリ（更新済み）
└── index.js                  # エントリーポイント（要更新）
```

### 2. index.jsの更新

`src/index.js` を以下の内容に**置き換えて**ください：

```javascript
import React from 'react';
import ReactDOM from 'react-dom/client';
import './index.css';
import App from './App';
import { AuthProvider } from './contexts/AuthContext';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <AuthProvider>
      <App />
    </AuthProvider>
  </React.StrictMode>
);
```

**重要**: 既存の`index.js`の内容を上記のコードで置き換える必要があります。

### 3. アプリケーションの起動

```bash
# プロジェクトフォルダに移動
cd C:\Users\toyon\Desktop\flow-knowledge-manager

# アプリケーションを起動
npm start
```

---

## 📖 使い方

### ログイン

1. アプリケーションを起動すると、ログイン画面が表示されます
2. メールアドレスとパスワードを入力
3. 「ログイン」ボタンをクリック

#### デモアカウントでログイン
- メール: `demo@example.com`
- パスワード: `demo123`

### 新規登録

1. ログイン画面下部の「新規登録はこちら」をクリック
2. 以下の情報を入力：
   - お名前（2文字以上）
   - メールアドレス（有効な形式）
   - パスワード（6文字以上）
   - パスワード（確認）
3. 「登録する」ボタンをクリック

### プロフィール管理

1. ヘッダー右上の「👤」アイコンをクリック
2. プロフィール画面が表示されます
3. 「✏️ 編集」ボタンで情報を編集可能

#### 編集可能な項目
- お名前
- メールアドレス

### ログアウト

1. ヘッダー右上の「👤」アイコンをクリック
2. プロフィール画面で「🚪 ログアウト」ボタンをクリック
3. 確認ダイアログで「OK」をクリック

---

## 🔒 セキュリティについて

### 現在の実装

- **データ保存**: LocalStorageを使用
- **パスワード**: 平文で保存（開発環境のみ）
- **対象**: 単一ユーザー向けのデスクトップアプリ

### ⚠️ 本番環境での推奨事項

現在の実装は**開発・検証用**です。本番環境では以下の対策が必要です：

1. **バックエンドAPI**
   - サーバーサイドでの認証処理
   - JWT（JSON Web Token）の使用
   - パスワードのハッシュ化（bcrypt等）

2. **HTTPS通信**
   - 通信の暗号化
   - SSL/TLS証明書の使用

3. **セッション管理**
   - タイムアウト機能
   - セッションの暗号化

4. **セキュリティヘッダー**
   - CORS設定
   - XSS対策
   - CSRF対策

---

## 📞 サポート

ご質問やフィードバックがあれば、お気軽にお問い合わせください！

**重要事項のまとめ**:
1. `index.js`を必ず更新してください
2. デモアカウントでまずログインしてみてください
3. 本番環境では必ずバックエンドAPIを使用してください

---

**🎉 これでログイン機能の実装は完了です！**
