# 🔐 ログイン機能 - 使い方ガイド

## 📋 実装した機能

### 1. **ログイン画面** (`Login.js`)
- メールアドレスとパスワードでログイン
- デモアカウント機能
- ログイン状態の保持オプション
- パスワード忘れリンク
- 新規登録画面への遷移

### 2. **新規登録画面** (`Register.js`)
- ユーザー情報の登録
  - お名前（必須）
  - メールアドレス（必須）
  - 部署（任意）
  - 役職（任意）
  - パスワード（必須、6文字以上）
- パスワード強度チェッカー
- パスワード確認入力
- 利用規約への同意
- メールアドレス重複チェック

### 3. **ユーザープロフィール画面** (`UserProfile.js`)
- プロフィール情報の表示
  - アバター画像
  - 名前、メールアドレス
  - 部署、役職
  - アカウント作成日
- プロフィール編集機能
- アバター画像のアップロード（2MB以下）
- 統計情報の表示
- ログアウト機能

### 4. **認証コンテキスト** (`AuthContext.js`)
- グローバルな認証状態管理
- ユーザー登録処理
- ログイン/ログアウト処理
- プロフィール更新処理
- LocalStorageでの永続化

---

## 🚀 使い方

### デモアカウントでログイン

アプリを起動すると、デモアカウントが自動的に作成されます:

```
メールアドレス: demo@example.com
パスワード: demo1234
```

1. ログイン画面で「デモアカウントで試す」ボタンをクリック
2. 自動的にメールアドレスとパスワードが入力されます
3. 「ログイン」ボタンをクリック

### 新規アカウントの作成

1. ログイン画面で「新規登録」リンクをクリック
2. 必須項目を入力:
   - お名前
   - メールアドレス
   - パスワード（6文字以上）
   - パスワード確認
3. 任意項目を入力:
   - 部署
   - 役職
4. 利用規約に同意
5. 「アカウントを作成」ボタンをクリック

### プロフィールの編集

1. ヘッダーの👤アイコンをクリック
2. 「✏️ 編集」ボタンをクリック
3. 情報を編集
4. アバター画像を変更（オプション）
5. 「💾 保存」ボタンをクリック

### ログアウト

1. ヘッダーの👤アイコンをクリック
2. 「🚪 ログアウト」ボタンをクリック
3. 確認ダイアログで「OK」をクリック

---

## 🔧 技術仕様

### データ保存

すべてのユーザーデータはブラウザのLocalStorageに保存されます:

```javascript
// ユーザー一覧
localStorage.getItem('users') // 配列形式

// 現在のログインユーザー
localStorage.getItem('currentUser') // オブジェクト形式
```

### セキュリティ機能

#### 実装済み
- メールアドレスの重複チェック
- パスワード長の検証（6文字以上）
- パスワード確認による入力ミス防止
- パスワード強度インジケーター

#### 本番環境での追加推奨事項
⚠️ **注意**: 現在のパスワードは平文で保存されています。本番環境では以下の実装が必要です:
- パスワードのハッシュ化（bcrypt等）
- JWT認証トークンの使用
- HTTPS通信の必須化
- セッションタイムアウト
- CSRF対策
- レート制限（ブルートフォース攻撃対策）

### ユーザーデータ構造

```javascript
{
  id: string,           // ユニークID
  name: string,         // 名前
  email: string,        // メールアドレス
  password: string,     // パスワード（本番環境ではハッシュ化）
  createdAt: string,    // 作成日時（ISO形式）
  avatar: string|null,  // アバター画像（Base64）
  role: string,         // ロール（デフォルト: 'user'）
  department: string,   // 部署
  position: string      // 役職
}
```

---

## 🎨 UIデザイン

### カラースキーム
- プライマリカラー: グラデーション（#667eea → #764ba2）
- 背景: 白 (#ffffff)
- テキスト: ダークグレー (#1a202c)
- エラー: レッド (#fc8181)
- 成功: グリーン (#68d391)

### アニメーション
- ページロード時: スライドアップ（0.5秒）
- ロゴ: バウンスアニメーション（1秒）
- ボタンホバー: 上昇効果（-2px）
- トランジション: すべて0.2秒

---

## 📱 レスポンシブ対応

すべての画面はモバイル対応されています:

- **デスクトップ**: 最大幅440px-600pxの中央配置
- **タブレット**: パディング調整
- **スマートフォン**: 
  - フォームレイアウトの単一カラム化
  - フォントサイズの調整
  - ボタンの全幅化

---

## 🔄 フロー図

### ログインフロー
```
┌─────────────┐
│ ログイン画面 │
└──────┬──────┘
       │
       ├─ デモログイン ─→ [自動入力] ─→ ログイン
       │
       ├─ 通常ログイン ─→ [認証] ─→ 成功/失敗
       │
       └─ 新規登録 ─→ [登録画面へ]
```

### 登録フロー
```
┌─────────────┐
│ 登録画面     │
└──────┬──────┘
       │
       ├─ 入力検証
       │   ├─ 必須項目チェック
       │   ├─ メール形式チェック
       │   ├─ パスワード長チェック
       │   ├─ パスワード一致チェック
       │   └─ 重複チェック
       │
       ├─ 成功 ─→ 自動ログイン ─→ アプリへ
       │
       └─ 失敗 ─→ エラー表示
```

---

## 🐛 トラブルシューティング

### ログインできない

**症状**: メールアドレスとパスワードを入力してもログインできない

**原因と対処法**:
1. メールアドレスまたはパスワードが間違っている
   - 入力内容を確認
   - デモアカウントで試してみる
2. アカウントが登録されていない
   - 新規登録画面からアカウントを作成

### デモアカウントが表示されない

**症状**: 「デモアカウントで試す」をクリックしても反応がない

**対処法**:
1. ページをリロード（F5）
2. ブラウザのコンソールでエラーを確認
3. LocalStorageをクリアして再度アクセス

### プロフィール画像がアップロードできない

**症状**: 画像を選択してもアップロードされない

**原因と対処法**:
1. ファイルサイズが2MBを超えている
   - 画像を圧縮してから再試行
2. 対応していないファイル形式
   - JPG、PNG形式の画像を使用

### データが消えた

**症状**: ログアウト後にデータが消失

**原因**:
- ブラウザのキャッシュクリアによるLocalStorageの削除
- シークレットモードでの使用

**対処法**:
- 通常のブラウザで使用
- 定期的なバックアップ（将来実装予定）

---

## 🔜 今後の拡張予定

### Phase 1 (優先度: 高)
- [ ] パスワードリセット機能
- [ ] メール認証
- [ ] パスワードのハッシュ化
- [ ] セッション管理の改善

### Phase 2 (優先度: 中)
- [ ] 二段階認証
- [ ] ソーシャルログイン（Google、GitHub等）
- [ ] ユーザー権限管理（管理者/一般ユーザー）
- [ ] チーム/グループ機能

### Phase 3 (優先度: 低)
- [ ] アクティビティログ
- [ ] 最終ログイン日時の表示
- [ ] アカウント削除機能
- [ ] プロフィールの公開/非公開設定

---

## 📞 サポート

質問やバグ報告がある場合は、プロジェクトのIssueセクションで報告してください。

---

## 📄 ライセンス

このプロジェクトはMITライセンスのもとで公開されています。

---

**🎉 ログイン機能の実装が完了しました！**

安全に、そして快適にFlowDoc Proをお使いください。
